{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../../App.svelte",
    "../../Collapse.svelte",
    "../../Nav.svelte",
    "../../Reference.svelte"
  ],
  "sourcesContent": [
    "<script>\n  import { prevent_default } from \"svelte/internal\";\n\n  import { onMount } from \"svelte\";\n\n  import Nav from \"./Nav.svelte\";\n  import Source from \"./Source.svelte\";\n  import { currentTitle, mainDoi } from \"./stores\";\n\n  onMount(() => {\n    getDoiFromUrl();\n    addEventListener(\"popstate\", getDoiFromUrl);\n  });\n\n  function getDoiFromUrl() {\n    const query = window.location.search;\n    const params = new URLSearchParams(query);\n    mainDoi.set(params.get(\"doi\"));\n  }\n</script>\n\n<style>\n  :global(:root) {\n    --darkest: #311d3f;\n    --darker: #522546;\n    --dark: #88304e;\n    --light: #e23e57;\n    --lighter: #fcb6c0;\n    --lightest: #ffffff;\n\n    --transition-time: 0.2s;\n  }\n\n  :global(*) {\n    font-family: sans-serif;\n  }\n\n  :global(body) {\n    padding: 0;\n  }\n\n  .invalid-doi {\n    text-align: center;\n  }\n\n  .invalid-doi div {\n    background-color: palegreen;\n    border-radius: 3px;\n    width: fit-content;\n    margin: 0 auto;\n  }\n</style>\n\n<svelte:head>\n  <title>Roam Crossref</title>\n  <meta name=\"description\" content=\"A utility to pull crossref.org data for papers and add it to RoamResearch\" />\n  <meta name=\"author\" content=\"Christian Fratta\" />\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n\n  <link\n    rel=\"stylesheet\"\n    href=\"https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css\"\n    integrity=\"sha512-NhSC1YmyruXifcj/KFRWoC561YpHpc5Jtzgvbuzx5VozKpWvQ+4nXhPdFgmx8xqexRcpAglTj9sIBWINXa8x5w==\"\n    crossorigin=\"anonymous\" />\n</svelte:head>\n\n<Nav title={$currentTitle} />\n{#if $mainDoi}\n  <Source bind:doi={$mainDoi} />\n{:else}\n  <div class=\"invalid-doi\">\n    <b>Couldn't find the DOI. Make sure you're writing the iframe as</b>\n    <div>\n      <code>\n        &lbrace;&lbrace; iframe: https://equineontology.github.io/roam-crossref?doi=\n        <mark>YOUR_DOI_HERE</mark>\n        &rbrace;&rbrace;\n      </code>\n    </div>\n  </div>\n{/if}\n",
    "<script>\n  export let id;\n  export let title;\n\n  let banner;\n\n  function handleKeyDown(e) {\n    // 32 === spacebar\n    // 13 === enter\n    if (e.which === 32 || e.which === 13) {\n      e.preventDefault();\n      banner.click();\n    }\n  }\n</script>\n\n<style>\n  .collapse {\n    margin-bottom: 1.2rem 0;\n  }\n\n  .collapse__title {\n    background: var(--darkest);\n    border-radius: 7px;\n    color: var(--lighter);\n    cursor: pointer;\n    display: block;\n    padding: 10px;\n    text-align: center;\n    transition: all var(--transition-time);\n  }\n\n  .collapse__title:hover {\n    color: var(--light);\n  }\n\n  .collapse__title::before {\n    content: \" \";\n    display: inline-block;\n    border-bottom: 5px solid transparent;\n    border-left: 5px solid currentColor;\n    border-top: 5px solid transparent;\n    margin-right: 0.7rem;\n\n    transition: all var(--transition-time);\n    vertical-align: middle;\n  }\n\n  input {\n    display: none;\n  }\n\n  input:checked + .collapse__title {\n    border-bottom-left-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n\n  input:checked + .collapse__title::before {\n    transform: rotate(90deg) translateX(-3px);\n  }\n\n  input:checked + .collapse__title + .collapse__content-wrapper {\n    max-height: 100vh;\n  }\n\n  .collapse__content-wrapper {\n    max-height: 0px;\n    overflow: hidden;\n    transition: max-height 0.25s;\n  }\n\n  .collapse__content {\n    background: var(--lightest);\n    border-style: solid;\n    border-color: var(--lighter);\n    border-width: 0 1px 1px 1px;\n    border-bottom-left-radius: 7px;\n    border-bottom-right-radius: 7px;\n    color: var(--darkest);\n    padding: 0.5rem 1rem;\n    transition: all var(--transition-time);\n    width: auto;\n  }\n</style>\n\n<div class=\"collapse\">\n  <input {id} type=\"checkbox\" />\n  <label for={id} class=\"collapse__title\" tabindex=\"0\" bind:this={banner}>{title}</label>\n  <div class=\"collapse__content-wrapper\">\n    <div class=\"collapse__content\">\n      <slot />\n    </div>\n  </div>\n</div>\n",
    "<script>\n  export let title;\n</script>\n\n<style>\n  header {\n    background: white;\n  }\n\n  header {\n    background: rgb(255, 255, 255);\n    border-bottom: 1px solid black;\n    position: sticky;\n    text-align: center;\n    text-transform: uppercase;\n    top: 0;\n  }\n</style>\n\n<header>\n  <h1>{title}</h1>\n</header>\n",
    "<script>\n  import { onMount } from \"svelte\";\n  import { mainDoi } from \"./stores\";\n\n  export let data;\n\n  const doi = data.DOI ?? null;\n  const key = data.key;\n  let text = data[\"volume-title\"] ?? data[\"journal-title\"] ?? doi ?? key;\n  const href = document.location.origin + document.location.pathname + `?doi=${doi}`;\n\n  onMount(() => {\n    if (doi) {\n      getSourceData();\n    }\n  });\n\n  async function getSourceData() {\n    const res = await fetch(`https://api.crossref.org/works/${doi}`);\n    const jsonRes = await res.json();\n    data = jsonRes.message;\n\n    text = data.title[0] ?? text;\n  }\n\n  function handleClick(e) {\n    e.preventDefault();\n    history.pushState(\n      {\n        url: href,\n        title: text,\n      },\n      text,\n      href\n    );\n\n    mainDoi.set(doi);\n  }\n</script>\n\n<style>\n  li {\n    padding: 5px 0;\n  }\n\n  span {\n    color: gray;\n  }\n</style>\n\n<li>\n  {#if doi}\n    <a {href} on:click={handleClick}>{text}</a>\n  {:else}\n    <span>{text}</span>\n  {/if}\n</li>\n"
  ],
  "names": [],
  "mappings": "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"
}